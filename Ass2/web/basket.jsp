<%@ page import="shop.Product" %><%@ page import="java.util.Map" %><jsp:useBean id='basket'             scope='session'             class='shop.Basket'/><%    String empty = request.getParameter("emptyBasket");    if (empty != null) {        basket.clearBasket();    }    String item = request.getParameter("addItem");    basket.addItem(item);    String removeItem = request.getParameter("removeProduct");    if (removeItem != null) {        basket.removeProduct(removeItem);    }    String incrementItem = request.getParameter("increment");    if (incrementItem != null) {        basket.incrementProduct(incrementItem);    }    String decrementItem = request.getParameter("decrement");    if (decrementItem != null) {        basket.decrementProduct(decrementItem);    }%><html><head>    <script>        function checkBasket() {            if (document.getElementById("name").value == "") {                alert("Please input a name!");                return false;            } else {                return true;            }        }    </script></head><body><table>    <tr>        <th> </th> <th> Preview </th> <th> Title</th> <th> Price</th> <th> Quantity</th> <th> Total</th>            <%            for (Product product : basket.getItems().keySet() ) {%>    <tr>        <td>            <form action="basket.jsp" method="get">                <input type="hidden" name="removeProduct" value="<%= product.PID %>">                <input type="submit" value="X"/>            </form>        </td>        <td><a href = '<%="viewProduct.jsp?pid="+product.PID%>'> <img src="<%= product.thumbnail %>"/> </a>        </td>        <td><%= product.title %>        </td>        <td><%= product.getPrice() %>        </td>        <td><%= basket.getQuantity(product) %>            <form action="basket.jsp" method="get">                <input type="hidden" name="increment" value="<%= product.PID %>">                <input type="submit" value="&#x2B06;"/>            </form>            <form action="basket.jsp" method="get">                <input type="hidden" name="decrement" value="<%= product.PID %>">                <input type="submit" value="&#x2B07;"/>            </form>        </td>        <td><%= basket.getProductTotal(product)%>        </td></tr>        <%    }%></table>    <p></br>Order total = &pound;<%= basket.getTotalString() %></p>            <%    if ( basket.getTotal() > 0) {        %>    <form action="order.jsp" method="post" name="order" onsubmit="return checkBasket()">        <input type="text" value="Name" name="name" id="name" size="20">        <input type="submit" value="Place Order"/>    </form>    <form action="basket.jsp" method="get">        <input type="hidden" name="emptyBasket" value="yes">        <input type="submit" value="Empty Basket"/>    </form>        <%    }%></body></html>