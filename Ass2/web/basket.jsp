<%@ page import="shop.Product" %><%@ page import="java.util.Map" %><jsp:useBean id='basket'             scope='session'             class='shop.Basket'/><jsp:include page="header-1703055.jsp"/><%    String empty = request.getParameter("emptyBasket");    if (empty != null) {        basket.clearBasket();        response.sendRedirect("basket.jsp");    }    String item = request.getParameter("addItem");    if (item != null) {        basket.addItem(item);        response.sendRedirect("basket.jsp");    }    String removeItem = request.getParameter("removeProduct");    if (removeItem != null) {        basket.removeProduct(removeItem);        response.sendRedirect("basket.jsp");    }    String incrementItem = request.getParameter("increment");    if (incrementItem != null) {        basket.incrementProduct(incrementItem);        response.sendRedirect("basket.jsp");    }    String decrementItem = request.getParameter("decrement");    if (decrementItem != null) {        basket.decrementProduct(decrementItem);        response.sendRedirect("basket.jsp");    }%><html><head>    <style>        .content {            margin-top: 25px;            text-align: center;            display: inline-block;        }        table {            border-collapse: collapse;            width: 80%;        }        td, th {            border: 1px solid #dddddd;            text-align: left;            padding: 8px;            text-align: center;            vertical-align: middle;        }        tr:nth-child(even) {            background-color: #d6e4f0;        }        input[type=submit] {            background-color: #163172;            border: none;            color: white;            padding: 10px 10px;            text-decoration: none;        }        input[type=text] {            padding: 15px 15px;            border: 2px solid red;            border-radius: 4px;        }        .quantity {            float: right;        }    </style>    <script>        function checkBasket() {            if (document.getElementById("name").value == "") {                alert("Please input a name!");                return false;            } else {                return true;            }        }        function eraseText() {            document.getElementById("name").value = "";        }    </script></head><body><div class="content">    <%        if (basket.getItems().size() == 0) {    %>    <h1 style="text-align: center"> Your basket is empty!</h1>    <a href="products.jsp">Return to catalogue</a>    <%    } else {    %>    <table>        <tr>            <th></th>            <th> Preview</th>            <th> Title</th>            <th> Price</th>            <th> Quantity</th>            <th> Total</th>            <%                for (Product product : basket.getItems().keySet()) {            %>        </tr>        <tr>            <td>                <form action="basket.jsp" method="get">                    <input type="hidden" name="removeProduct" value="<%= product.PID %>">                    <input style="background-color: red" type="submit" value="X"/>                </form>            </td>            <td><a href='<%="viewProduct.jsp?pid="+product.PID%>'> <img src="<%= product.thumbnail %>"/> </a>            </td>            <td><%= product.title %>            </td>            <td>&pound;<%= product.getPrice() %>            </td>            <td><%= basket.getQuantity(product) %>                <div class="quantity">                    <form action="basket.jsp" method="get">                        <input type="hidden" name="increment" value="<%= product.PID %>">                        <input type="submit" value="&#x2B06;"/>                    </form>                    <form action="basket.jsp" method="get">                        <input type="hidden" name="decrement" value="<%= product.PID %>">                        <input type="submit" value="&#x2B07;"/>                    </form>                </div>            </td>            <td>&pound;<%= basket.getProductTotal(product)%>            </td>        </tr>        <%                }            }        %>    </table>    <p></br>Order total = &pound;<%= basket.getTotalString() %>    </p>    <%        if (basket.getTotal() > 0) {    %>    <form action="order.jsp" method="get" name="order" onsubmit="return checkBasket()">        <input type="text" value="Name" name="name" id="name" onclick="eraseText()" size="20">        <input style="padding: 15px 15px" type="submit" value="Place Order"/>    </form>    <form action="basket.jsp" method="get">        <input type="hidden" name="emptyBasket" value="yes">        <input style="background-color: red" type="submit" value="Empty Basket"/>    </form>    <%        }    %></div></body></html>